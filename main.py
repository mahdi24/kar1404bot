from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/')
def index():
    return "Bot is running."

@app.route('/<token>', methods=['POST'])
def webhook(token):
    data = request.json
    message = data.get("message", {})
    text = message.get("text", "")
    chat_id = message.get("chat", {}).get("id")
    
    buttons = [
        ["๐ ูุฑุฎุต", "๐ด ุจุงุฒูุดุณุชฺฏ"],
        ["๐ ููู ู ุงูุชูุงูุงุช", "๐ ุทุจูู ุดุบู"],
        ["๐ ุฑุชุจู ุดุบู", "๐ต ุจุงุฒุฎุฑุฏ"],
        ["๐ค ุงุณุชุนูุง", "โ๏ธ ุชุฎููุงุช"],
        ["๐ ฺฏูุงู ุงุดุชุบุงู ุจู ฺฉุงุฑ", "๐ ุงูุชุตุงุจุงุช"],
        ["๐ ุงุฑุชุจุงุท ุจุง ูุง"]
    ]

    response_text = "ุจู ุจุงุฒู ฺฉุงุฑฺฏุฒู ุงุฏุงุฑู ุขููุฒุด ู ูพุฑูุฑุด ูพุงฺฉุฏุดุช ุฎูุด ุขูุฏุฏ."

    if text == "/start":
        reply_markup = {
            "keyboard": buttons,
            "resize_keyboard": True,
            "one_time_keyboard": False
        }
        return jsonify({
            "method": "sendMessage",
            "chat_id": chat_id,
            "text": response_text,
            "reply_markup": reply_markup
        })

    # ูพุงุณุฎโูุง ุณุงุฏู ุจู ุฏฺฉููโูุง
    responses = {
        "๐ ูุฑุฎุต": "ุฑุงูููุง ุฏุฑุฎูุงุณุช ูุฑุฎุต: ...",
        "๐ด ุจุงุฒูุดุณุชฺฏ": "ุฑุงูููุง ุจุงุฒูุดุณุชฺฏ: ...",
        "๐ ููู ู ุงูุชูุงูุงุช": "ุงุทูุงุนุงุช ููู ู ุงูุชูุงูุงุช: ...",
        "๐ ุทุจูู ุดุบู": "ุทุจูู ุดุบู ฺุณุช ู ฺุทูุฑ ุชุนู ูโุดูุฏุ ...",
        "๐ ุฑุชุจู ุดุบู": "ุฑุงูููุง ุงุฑุชูุงุก ุฑุชุจู ุดุบู: ...",
        "๐ต ุจุงุฒุฎุฑุฏ": "ุดุฑุงุท ุจุงุฒุฎุฑุฏ ุฎุฏูุช: ...",
        "๐ค ุงุณุชุนูุง": "ุจู ุฒูุฏ ุจุงุฑฺฏุฐุงุฑ ุฎูุงูุฏ ุดุฏ. ุงุฒ ุตุจุฑ ู ุดฺฉุจุง ุดูุง ุณูพุงุณฺฏุฒุงุฑู.",
        "โ๏ธ ุชุฎููุงุช": "ุจู ุฒูุฏ ุจุงุฑฺฏุฐุงุฑ ุฎูุงูุฏ ุดุฏ. ุงุฒ ุตุจุฑ ู ุดฺฉุจุง ุดูุง ุณูพุงุณฺฏุฒุงุฑู.",
        "๐ ฺฏูุงู ุงุดุชุบุงู ุจู ฺฉุงุฑ": "ุจู ุฒูุฏ ุจุงุฑฺฏุฐุงุฑ ุฎูุงูุฏ ุดุฏ. ุงุฒ ุตุจุฑ ู ุดฺฉุจุง ุดูุง ุณูพุงุณฺฏุฒุงุฑู.",
        "๐ ุงูุชุตุงุจุงุช": "ุขุฎุฑู ุงุทูุงุนุงุช ุงูุชุตุงุจุงุช: ...",
        "๐ ุงุฑุชุจุงุท ุจุง ูุง": "๐ค ูุณุฆูู ฺฉุงุฑฺฏุฒู: @Amir1068\n๐ค ูุฏุฑ ุณุงูุงูู: @teacher141072"
    }

    if text in responses:
        return jsonify({
            "method": "sendMessage",
            "chat_id": chat_id,
            "text": responses[text]
        })

    return jsonify({
        "method": "sendMessage",
        "chat_id": chat_id,
        "text": "ุฏุณุชูุฑ ูุงูุนุชุจุฑ ุงุณุช. ูุทูุงู ุงุฒ ููู ุฒุฑ ฺฏุฒููโุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ."
    })